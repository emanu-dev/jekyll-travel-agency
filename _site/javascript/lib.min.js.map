{"version":3,"sources":["smoothscroll.min.js","vanilla-masker.min.js","lazyload.iife.js"],"names":[],"mappings":"AAAA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"lib.min.js","sourcesContent":["!function(){\"use strict\";function o(){var o=window,t=document;if(!(\"scrollBehavior\"in t.documentElement.style&&!0!==o.__forceSmoothScrollPolyfill__)){var l,e=o.HTMLElement||o.Element,r=468,i={scroll:o.scroll||o.scrollTo,scrollBy:o.scrollBy,elementScroll:e.prototype.scroll||n,scrollIntoView:e.prototype.scrollIntoView},s=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now,c=(l=o.navigator.userAgent,new RegExp([\"MSIE \",\"Trident/\",\"Edge/\"].join(\"|\")).test(l)?1:0);o.scroll=o.scrollTo=function(){void 0!==arguments[0]&&(!0!==f(arguments[0])?h.call(o,t.body,void 0!==arguments[0].left?~~arguments[0].left:o.scrollX||o.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:o.scrollY||o.pageYOffset):i.scroll.call(o,void 0!==arguments[0].left?arguments[0].left:\"object\"!=typeof arguments[0]?arguments[0]:o.scrollX||o.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:o.scrollY||o.pageYOffset))},o.scrollBy=function(){void 0!==arguments[0]&&(f(arguments[0])?i.scrollBy.call(o,void 0!==arguments[0].left?arguments[0].left:\"object\"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(o,t.body,~~arguments[0].left+(o.scrollX||o.pageXOffset),~~arguments[0].top+(o.scrollY||o.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==f(arguments[0])){var o=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===o?this.scrollLeft:~~o,void 0===t?this.scrollTop:~~t)}else{if(\"number\"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError(\"Value could not be converted\");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:\"object\"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==f(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},e.prototype.scrollIntoView=function(){if(!0!==f(arguments[0])){var l=function(o){var l,e,r,i;do{l=(o=o.parentNode)===t.body}while(!1===l&&!1===(r=p(e=o,\"Y\")&&a(e,\"Y\"),i=p(e,\"X\")&&a(e,\"X\"),r||i));return l=null,o}(this),e=l.getBoundingClientRect(),r=this.getBoundingClientRect();l!==t.body?(h.call(this,l,l.scrollLeft+r.left-e.left,l.scrollTop+r.top-e.top),\"fixed\"!==o.getComputedStyle(l).position&&o.scrollBy({left:e.left,top:e.top,behavior:\"smooth\"})):o.scrollBy({left:r.left,top:r.top,behavior:\"smooth\"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function n(o,t){this.scrollLeft=o,this.scrollTop=t}function f(o){if(null===o||\"object\"!=typeof o||void 0===o.behavior||\"auto\"===o.behavior||\"instant\"===o.behavior)return!0;if(\"object\"==typeof o&&\"smooth\"===o.behavior)return!1;throw new TypeError(\"behavior member of ScrollOptions \"+o.behavior+\" is not a valid value for enumeration ScrollBehavior.\")}function p(o,t){return\"Y\"===t?o.clientHeight+c<o.scrollHeight:\"X\"===t?o.clientWidth+c<o.scrollWidth:void 0}function a(t,l){var e=o.getComputedStyle(t,null)[\"overflow\"+l];return\"auto\"===e||\"scroll\"===e}function d(t){var l,e,i,c,n=(s()-t.startTime)/r;c=n=n>1?1:n,l=.5*(1-Math.cos(Math.PI*c)),e=t.startX+(t.x-t.startX)*l,i=t.startY+(t.y-t.startY)*l,t.method.call(t.scrollable,e,i),e===t.x&&i===t.y||o.requestAnimationFrame(d.bind(o,t))}function h(l,e,r){var c,f,p,a,h=s();l===t.body?(c=o,f=o.scrollX||o.pageXOffset,p=o.scrollY||o.pageYOffset,a=i.scroll):(c=l,f=l.scrollLeft,p=l.scrollTop,a=n),d({scrollable:c,method:a,startTime:h,startX:f,startY:p,x:e,y:r})}}\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports={polyfill:o}:o()}();","!function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.VMasker=b()}(this,function(){var a=[9,16,17,18,36,37,38,39,40,91,92,93],b=function(b){for(var c=0,d=a.length;c<d;c++)if(b==a[c])return!1;return!0},c=function(a){return a=a||{},a={delimiter:a.delimiter||\".\",lastOutput:a.lastOutput,precision:a.hasOwnProperty(\"precision\")?a.precision:2,separator:a.separator||\",\",showSignal:a.showSignal,suffixUnit:a.suffixUnit&&\" \"+a.suffixUnit.replace(/[\\s]/g,\"\")||\"\",unit:a.unit&&a.unit.replace(/[\\s]/g,\"\")+\" \"||\"\",zeroCents:a.zeroCents},a.moneyPrecision=a.zeroCents?0:a.precision,a},d=function(a,b,c){for(;b<a.length;b++)\"9\"!==a[b]&&\"A\"!==a[b]&&\"S\"!==a[b]||(a[b]=c);return a},e=function(a){this.elements=a};e.prototype.unbindElementToMask=function(){for(var a=0,b=this.elements.length;a<b;a++)this.elements[a].lastOutput=\"\",this.elements[a].onkeyup=!1,this.elements[a].onkeydown=!1,this.elements[a].value.length&&(this.elements[a].value=this.elements[a].value.replace(/\\D/g,\"\"))},e.prototype.bindElementToMask=function(a){for(var c=this,d=function(d){d=d||window.event;var e=d.target||d.srcElement;b(d.keyCode)&&setTimeout(function(){c.opts.lastOutput=e.lastOutput,e.value=f[a](e.value,c.opts),e.lastOutput=e.value,e.setSelectionRange&&c.opts.suffixUnit&&e.setSelectionRange(e.value.length,e.value.length-c.opts.suffixUnit.length)},0)},e=0,g=this.elements.length;e<g;e++)this.elements[e].lastOutput=\"\",this.elements[e].onkeyup=d,this.elements[e].value.length&&(this.elements[e].value=f[a](this.elements[e].value,this.opts))},e.prototype.maskMoney=function(a){this.opts=c(a),this.bindElementToMask(\"toMoney\")},e.prototype.maskNumber=function(){this.opts={},this.bindElementToMask(\"toNumber\")},e.prototype.maskAlphaNum=function(){this.opts={},this.bindElementToMask(\"toAlphaNumeric\")},e.prototype.maskPattern=function(a){this.opts={pattern:a},this.bindElementToMask(\"toPattern\")},e.prototype.unMask=function(){this.unbindElementToMask()};var f=function(a){if(!a)throw new Error(\"VanillaMasker: There is no element to bind.\");var b=\"length\"in a?a.length?a:[]:[a];return new e(b)};return f.toMoney=function(a,b){if(b=c(b),b.zeroCents){b.lastOutput=b.lastOutput||\"\";var d=\"(\"+b.separator+\"[0]{0,\"+b.precision+\"})\",e=new RegExp(d,\"g\"),f=a.toString().replace(/[\\D]/g,\"\").length||0,g=b.lastOutput.toString().replace(/[\\D]/g,\"\").length||0;a=a.toString().replace(e,\"\"),f<g&&(a=a.slice(0,a.length-1))}var h=a.toString().replace(/[\\D]/g,\"\"),i=new RegExp(\"^(0|\\\\\"+b.delimiter+\")\"),j=new RegExp(\"(\\\\\"+b.separator+\")$\"),k=h.substr(0,h.length-b.moneyPrecision),l=k.substr(0,k.length%3),m=new Array(b.precision+1).join(\"0\");k=k.substr(k.length%3,k.length);for(var n=0,o=k.length;n<o;n++)n%3==0&&(l+=b.delimiter),l+=k[n];l=l.replace(i,\"\"),l=l.length?l:\"0\";var p=\"\";if(!0===b.showSignal&&(p=a<0||a.startsWith&&a.startsWith(\"-\")?\"-\":\"\"),!b.zeroCents){var q=h.length-b.precision,r=h.substr(q,b.precision),s=r.length;m=(m+r).slice(-(b.precision>s?b.precision:s))}return(b.unit+p+l+b.separator+m).replace(j,\"\")+b.suffixUnit},f.toPattern=function(a,b){var c,e=\"object\"==typeof b?b.pattern:b,f=e.replace(/\\W/g,\"\"),g=e.split(\"\"),h=a.toString().replace(/\\W/g,\"\"),i=h.replace(/\\W/g,\"\"),j=0,k=g.length,l=\"object\"==typeof b?b.placeholder:void 0;for(c=0;c<k;c++){if(j>=h.length){if(f.length==i.length)return g.join(\"\");if(void 0!==l&&f.length>i.length)return d(g,c,l).join(\"\");break}if(\"9\"===g[c]&&h[j].match(/[0-9]/)||\"A\"===g[c]&&h[j].match(/[a-zA-Z]/)||\"S\"===g[c]&&h[j].match(/[0-9a-zA-Z]/))g[c]=h[j++];else if(\"9\"===g[c]||\"A\"===g[c]||\"S\"===g[c])return void 0!==l?d(g,c,l).join(\"\"):g.slice(0,c).join(\"\")}return g.join(\"\").substr(0,c)},f.toNumber=function(a){return a.toString().replace(/(?!^-)[^0-9]/g,\"\")},f.toAlphaNumeric=function(a){return a.toString().replace(/[^a-z0-9 ]+/i,\"\")},f});","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar LazyLoad = function () {\n\t'use strict';\n\n\tvar getInstanceSettings = function getInstanceSettings(customSettings) {\n\t\tvar defaultSettings = {\n\t\t\telements_selector: \"img\",\n\t\t\tcontainer: document,\n\t\t\tthreshold: 300,\n\t\t\tdata_src: \"src\",\n\t\t\tdata_srcset: \"srcset\",\n\t\t\tdata_sizes: \"sizes\",\n\t\t\tclass_loading: \"loading\",\n\t\t\tclass_loaded: \"loaded\",\n\t\t\tclass_error: \"error\",\n\t\t\tcallback_load: null,\n\t\t\tcallback_error: null,\n\t\t\tcallback_set: null,\n\t\t\tcallback_enter: null,\n\t\t\tto_webp: false\n\t\t};\n\n\t\treturn _extends({}, defaultSettings, customSettings);\n\t};\n\n\tvar dataPrefix = \"data-\";\n\tvar processedDataName = \"was-processed\";\n\tvar processedDataValue = \"true\";\n\n\tvar getData = function getData(element, attribute) {\n\t\treturn element.getAttribute(dataPrefix + attribute);\n\t};\n\n\tvar setData = function setData(element, attribute, value) {\n\t\treturn element.setAttribute(dataPrefix + attribute, value);\n\t};\n\n\tvar setWasProcessed = function setWasProcessed(element) {\n\t\treturn setData(element, processedDataName, processedDataValue);\n\t};\n\n\tvar getWasProcessed = function getWasProcessed(element) {\n\t\treturn getData(element, processedDataName) === processedDataValue;\n\t};\n\n\tfunction purgeElements(elements) {\n\t\treturn elements.filter(function (element) {\n\t\t\treturn !getWasProcessed(element);\n\t\t});\n\t}\n\n\t/* Creates instance and notifies it through the window element */\n\tvar createInstance = function createInstance(classObj, options) {\n\t\tvar event;\n\t\tvar eventString = \"LazyLoad::Initialized\";\n\t\tvar instance = new classObj(options);\n\t\ttry {\n\t\t\t// Works in modern browsers\n\t\t\tevent = new CustomEvent(eventString, { detail: { instance: instance } });\n\t\t} catch (err) {\n\t\t\t// Works in Internet Explorer (all versions)\n\t\t\tevent = document.createEvent(\"CustomEvent\");\n\t\t\tevent.initCustomEvent(eventString, false, false, { instance: instance });\n\t\t}\n\t\twindow.dispatchEvent(event);\n\t};\n\n\t/* Auto initialization of one or more instances of lazyload, depending on the \n     options passed in (plain object or an array) */\n\tfunction autoInitialize(classObj, options) {\n\t\tif (!options) {\n\t\t\treturn;\n\t\t}\n\t\tif (!options.length) {\n\t\t\t// Plain object\n\t\t\tcreateInstance(classObj, options);\n\t\t} else {\n\t\t\t// Array of objects\n\t\t\tfor (var i = 0, optionsItem; optionsItem = options[i]; i += 1) {\n\t\t\t\tcreateInstance(classObj, optionsItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar replaceExtToWebp = function replaceExtToWebp(value, condition) {\n\t\treturn condition ? value.replace(/\\.(jpe?g|png)/gi, \".webp\") : value;\n\t};\n\n\tvar detectWebp = function detectWebp() {\n\t\tvar webpString = \"image/webp\";\n\t\tvar canvas = document.createElement(\"canvas\");\n\n\t\tif (canvas.getContext && canvas.getContext(\"2d\")) {\n\t\t\treturn canvas.toDataURL(webpString).indexOf(\"data:\" + webpString) === 0;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tvar runningOnBrowser = typeof window !== \"undefined\";\n\n\tvar isBot = runningOnBrowser && !(\"onscroll\" in window) || /(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent);\n\n\tvar supportsIntersectionObserver = runningOnBrowser && \"IntersectionObserver\" in window;\n\n\tvar supportsClassList = runningOnBrowser && \"classList\" in document.createElement(\"p\");\n\n\tvar supportsWebp = runningOnBrowser && detectWebp();\n\n\tvar setSourcesInChildren = function setSourcesInChildren(parentTag, attrName, dataAttrName, toWebpFlag) {\n\t\tfor (var i = 0, childTag; childTag = parentTag.children[i]; i += 1) {\n\t\t\tif (childTag.tagName === \"SOURCE\") {\n\t\t\t\tvar attrValue = getData(childTag, dataAttrName);\n\t\t\t\tsetAttributeIfValue(childTag, attrName, attrValue, toWebpFlag);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar setAttributeIfValue = function setAttributeIfValue(element, attrName, value, toWebpFlag) {\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\t\telement.setAttribute(attrName, replaceExtToWebp(value, toWebpFlag));\n\t};\n\n\tvar setSourcesImg = function setSourcesImg(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcsetDataName = settings.data_srcset;\n\t\tvar parent = element.parentNode;\n\n\t\tif (parent && parent.tagName === \"PICTURE\") {\n\t\t\tsetSourcesInChildren(parent, \"srcset\", srcsetDataName, toWebpFlag);\n\t\t}\n\t\tvar sizesDataValue = getData(element, settings.data_sizes);\n\t\tsetAttributeIfValue(element, \"sizes\", sizesDataValue);\n\t\tvar srcsetDataValue = getData(element, srcsetDataName);\n\t\tsetAttributeIfValue(element, \"srcset\", srcsetDataValue, toWebpFlag);\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue, toWebpFlag);\n\t};\n\n\tvar setSourcesIframe = function setSourcesIframe(element, settings) {\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t};\n\n\tvar setSourcesVideo = function setSourcesVideo(element, settings) {\n\t\tvar srcDataName = settings.data_src;\n\t\tvar srcDataValue = getData(element, srcDataName);\n\n\t\tsetSourcesInChildren(element, \"src\", srcDataName);\n\t\tsetAttributeIfValue(element, \"src\", srcDataValue);\n\t};\n\n\tvar setSourcesBgImage = function setSourcesBgImage(element, settings) {\n\t\tvar toWebpFlag = supportsWebp && settings.to_webp;\n\t\tvar srcDataValue = getData(element, settings.data_src);\n\n\t\tif (srcDataValue) {\n\t\t\tvar setValue = replaceExtToWebp(srcDataValue, toWebpFlag);\n\t\t\telement.style.backgroundImage = \"url(\\\"\" + setValue + \"\\\")\";\n\t\t}\n\t};\n\n\tvar setSourcesFunctions = {\n\t\tIMG: setSourcesImg,\n\t\tIFRAME: setSourcesIframe,\n\t\tVIDEO: setSourcesVideo\n\t};\n\n\tvar setSources = function setSources(element, settings) {\n\t\tvar tagName = element.tagName;\n\t\tvar setSourcesFunction = setSourcesFunctions[tagName];\n\t\tif (setSourcesFunction) {\n\t\t\tsetSourcesFunction(element, settings);\n\t\t\treturn;\n\t\t}\n\t\tsetSourcesBgImage(element, settings);\n\t};\n\n\tvar addClass = function addClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.add(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className += (element.className ? \" \" : \"\") + className;\n\t};\n\n\tvar removeClass = function removeClass(element, className) {\n\t\tif (supportsClassList) {\n\t\t\telement.classList.remove(className);\n\t\t\treturn;\n\t\t}\n\t\telement.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n\t};\n\n\tvar managedTags = [\"IMG\", \"IFRAME\", \"VIDEO\"];\n\n\tvar callCallback = function callCallback(callback, argument) {\n\t\tif (callback) {\n\t\t\tcallback(argument);\n\t\t}\n\t};\n\n\tvar loadString = \"load\";\n\tvar errorString = \"error\";\n\n\tvar removeListeners = function removeListeners(element, loadHandler, errorHandler) {\n\t\telement.removeEventListener(loadString, loadHandler);\n\t\telement.removeEventListener(errorString, errorHandler);\n\t};\n\n\tvar addOneShotListeners = function addOneShotListeners(element, settings) {\n\t\tvar onLoad = function onLoad(event) {\n\t\t\tonEvent(event, true, settings);\n\t\t\tremoveListeners(element, onLoad, onError);\n\t\t};\n\t\tvar onError = function onError(event) {\n\t\t\tonEvent(event, false, settings);\n\t\t\tremoveListeners(element, onLoad, onError);\n\t\t};\n\t\telement.addEventListener(loadString, onLoad);\n\t\telement.addEventListener(errorString, onError);\n\t};\n\n\tvar onEvent = function onEvent(event, success, settings) {\n\t\tvar element = event.target;\n\t\tremoveClass(element, settings.class_loading);\n\t\taddClass(element, success ? settings.class_loaded : settings.class_error); // Setting loaded or error class\n\t\tcallCallback(success ? settings.callback_load : settings.callback_error, element);\n\t};\n\n\tfunction revealElement(element, settings, force) {\n\t\tif (!force && getWasProcessed(element)) {\n\t\t\treturn; // element has already been processed and force wasn't true\n\t\t}\n\t\tcallCallback(settings.callback_enter, element);\n\t\tif (managedTags.indexOf(element.tagName) > -1) {\n\t\t\taddOneShotListeners(element, settings);\n\t\t\taddClass(element, settings.class_loading);\n\t\t}\n\t\tsetSources(element, settings);\n\t\tsetWasProcessed(element);\n\t\tcallCallback(settings.callback_set, element);\n\t}\n\n\t/* entry.isIntersecting needs fallback because is null on some versions of MS Edge, and\n    entry.intersectionRatio is not enough alone because it could be 0 on some intersecting elements */\n\tvar isIntersecting = function isIntersecting(element) {\n\t\treturn element.isIntersecting || element.intersectionRatio > 0;\n\t};\n\n\tvar getObserverSettings = function getObserverSettings(settings) {\n\t\treturn {\n\t\t\troot: settings.container === document ? null : settings.container,\n\t\t\trootMargin: settings.threshold + \"px\"\n\t\t};\n\t};\n\n\tvar LazyLoad = function LazyLoad(customSettings, elements) {\n\t\tthis._settings = getInstanceSettings(customSettings);\n\t\tthis._setObserver();\n\t\tthis.update(elements);\n\t};\n\n\tLazyLoad.prototype = {\n\t\t_setObserver: function _setObserver() {\n\t\t\tvar _this = this;\n\n\t\t\tif (!supportsIntersectionObserver) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar revealIntersectingElements = function revealIntersectingElements(entries) {\n\t\t\t\tentries.forEach(function (entry) {\n\t\t\t\t\tif (isIntersecting(entry)) {\n\t\t\t\t\t\tvar element = entry.target;\n\t\t\t\t\t\t_this.load(element);\n\t\t\t\t\t\t_this._observer.unobserve(element);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t_this._elements = purgeElements(_this._elements);\n\t\t\t};\n\t\t\tthis._observer = new IntersectionObserver(revealIntersectingElements, getObserverSettings(this._settings));\n\t\t},\n\n\t\tloadAll: function loadAll() {\n\t\t\tvar _this2 = this;\n\n\t\t\tthis._elements.forEach(function (element) {\n\t\t\t\t_this2.load(element);\n\t\t\t});\n\t\t\tthis._elements = purgeElements(this._elements);\n\t\t},\n\n\t\tupdate: function update(elements) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar settings = this._settings;\n\t\t\tvar nodeSet = elements || settings.container.querySelectorAll(settings.elements_selector);\n\n\t\t\tthis._elements = purgeElements(Array.prototype.slice.call(nodeSet)); // nodeset to array for IE compatibility\n\n\t\t\tif (isBot || !this._observer) {\n\t\t\t\tthis.loadAll();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._elements.forEach(function (element) {\n\t\t\t\t_this3._observer.observe(element);\n\t\t\t});\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this._observer) {\n\t\t\t\tpurgeElements(this._elements).forEach(function (element) {\n\t\t\t\t\t_this4._observer.unobserve(element);\n\t\t\t\t});\n\t\t\t\tthis._observer = null;\n\t\t\t}\n\t\t\tthis._elements = null;\n\t\t\tthis._settings = null;\n\t\t},\n\n\t\tload: function load(element, force) {\n\t\t\trevealElement(element, this._settings, force);\n\t\t}\n\t};\n\n\t/* Automatic instances creation if required (useful for async script loading) */\n\tif (runningOnBrowser) {\n\t\tautoInitialize(LazyLoad, window.lazyLoadOptions);\n\t}\n\n\treturn LazyLoad;\n}();"]}